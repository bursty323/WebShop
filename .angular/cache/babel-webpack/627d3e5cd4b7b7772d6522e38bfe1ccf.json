{"ast":null,"code":"import { switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../auth.service\";\nimport * as i2 from \"@angular/fire/compat/database\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\n\nfunction NavbarComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 6);\n    i0.ɵɵelementStart(1, \"a\", 10);\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NavbarComponent_li_12_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 17);\n    i0.ɵɵtext(2, \"Manage Orders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 18);\n    i0.ɵɵtext(4, \"Manage Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NavbarComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 11);\n    i0.ɵɵelementStart(1, \"a\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13);\n    i0.ɵɵelementStart(4, \"a\", 14);\n    i0.ɵɵtext(5, \"My Orders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, NavbarComponent_li_12_ng_container_6_Template, 5, 0, \"ng-container\", 15);\n    i0.ɵɵelementStart(7, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_li_12_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.logout();\n    });\n    i0.ɵɵtext(8, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.appuser == null ? null : ctx_r2.appuser.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.appuser == null ? null : ctx_r2.appuser.isAdmin);\n  }\n}\n\nexport class NavbarComponent {\n  constructor(auth, db) {\n    this.auth = auth;\n    this.db = db;\n    auth.user$.pipe(switchMap(user => {\n      return this.db.object('/user/' + (user === null || user === void 0 ? void 0 : user.uid)).valueChanges();\n    })) //never use switchMap with async pipe or you will run in infinite loop\n    .subscribe(x => {\n      this.appuser = x;\n    });\n  }\n\n  ngOnInit() {}\n\n  logout() {\n    this.auth.logout();\n  }\n\n}\n\nNavbarComponent.ɵfac = function NavbarComponent_Factory(t) {\n  return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AngularFireDatabase));\n};\n\nNavbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavbarComponent,\n  selectors: [[\"navbar\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[1, \"navbar\", \"navbar-expand-md\", \"navbar-light\", \"bg-light\", \"fixed-top\"], [\"routerLink\", \"/\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarsExampleDefault\", \"aria-controls\", \"navbarsExampleDefault\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarsExampleDefault\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"mr-auto\"], [1, \"nav-item\"], [\"routerLink\", \"/shopping-cart\", 1, \"nav-link\"], [\"anonymousUser\", \"\"], [\"ngbDropdown\", \"\", \"class\", \"nav-item dropdown\", 4, \"ngIf\", \"ngIfElse\"], [\"routerLink\", \"/login\", 1, \"nav-link\"], [\"ngbDropdown\", \"\", 1, \"nav-item\", \"dropdown\"], [\"ngbDropdownToggle\", \"\", \"id\", \"dropdown01\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdown01\", 1, \"dropdown-menu\"], [\"routerLink\", \"/my/orders\", 1, \"dropdown-item\"], [4, \"ngIf\"], [1, \"dropdown-item\", 3, \"click\"], [\"routerLink\", \"/admin/orders\", 1, \"dropdown-item\"], [\"routerLink\", \"/admin/products\", 1, \"dropdown-item\"]],\n  template: function NavbarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0);\n      i0.ɵɵelementStart(1, \"a\", 1);\n      i0.ɵɵtext(2, \"WebShop\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵelement(4, \"span\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"ul\", 5);\n      i0.ɵɵelementStart(7, \"li\", 6);\n      i0.ɵɵelementStart(8, \"a\", 7);\n      i0.ɵɵtext(9, \"Shopping Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, NavbarComponent_ng_template_10_Template, 3, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(12, NavbarComponent_li_12_Template, 9, 2, \"li\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(11);\n\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", ctx.appuser)(\"ngIfElse\", _r0);\n    }\n  },\n  directives: [i3.NgbNavbar, i4.RouterLinkWithHref, i5.NgIf, i3.NgbDropdown, i3.NgbDropdownToggle, i3.NgbDropdownMenu],\n  styles: [\".dropdown-toggle[_ngcontent-%COMP%] {\\r\\n  cursor: pointer;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBZTtBQUNqQiIsImZpbGUiOiJuYXZiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wZG93bi10b2dnbGUge1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"sources":["E:/Java script Mosh/webshop/src/app/navbar/navbar.component.ts"],"names":["switchMap","i0","i1","i2","i3","i4","i5","NavbarComponent_ng_template_10_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","NavbarComponent_li_12_ng_container_6_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","NavbarComponent_li_12_Template","_r5","ɵɵgetCurrentView","ɵɵtemplate","ɵɵlistener","NavbarComponent_li_12_Template_a_click_7_listener","ɵɵrestoreView","ctx_r4","ɵɵnextContext","logout","ctx_r2","ɵɵadvance","ɵɵtextInterpolate","appuser","name","ɵɵproperty","isAdmin","NavbarComponent","constructor","auth","db","user$","pipe","user","object","uid","valueChanges","subscribe","x","ngOnInit","ɵfac","NavbarComponent_Factory","t","ɵɵdirectiveInject","AuthService","AngularFireDatabase","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","NavbarComponent_Template","ɵɵelement","ɵɵtemplateRefExtractor","_r0","ɵɵreference","directives","NgbNavbar","RouterLinkWithHref","NgIf","NgbDropdown","NgbDropdownToggle","NgbDropdownMenu","styles"],"mappings":"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","sourcesContent":["import { switchMap } from 'rxjs/operators';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"./../auth.service\";\r\nimport * as i2 from \"@angular/fire/compat/database\";\r\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/common\";\r\nfunction NavbarComponent_ng_template_10_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\", 6);\r\n    i0.ɵɵelementStart(1, \"a\", 10);\r\n    i0.ɵɵtext(2, \"Login\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction NavbarComponent_li_12_ng_container_6_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementContainerStart(0);\r\n    i0.ɵɵelementStart(1, \"a\", 17);\r\n    i0.ɵɵtext(2, \"Manage Orders\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"a\", 18);\r\n    i0.ɵɵtext(4, \"Manage Products\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementContainerEnd();\r\n} }\r\nfunction NavbarComponent_li_12_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"li\", 11);\r\n    i0.ɵɵelementStart(1, \"a\", 12);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"div\", 13);\r\n    i0.ɵɵelementStart(4, \"a\", 14);\r\n    i0.ɵɵtext(5, \"My Orders\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(6, NavbarComponent_li_12_ng_container_6_Template, 5, 0, \"ng-container\", 15);\r\n    i0.ɵɵelementStart(7, \"a\", 16);\r\n    i0.ɵɵlistener(\"click\", function NavbarComponent_li_12_Template_a_click_7_listener() { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.logout(); });\r\n    i0.ɵɵtext(8, \"Logout\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r2.appuser == null ? null : ctx_r2.appuser.name);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.appuser == null ? null : ctx_r2.appuser.isAdmin);\r\n} }\r\nexport class NavbarComponent {\r\n    constructor(auth, db) {\r\n        this.auth = auth;\r\n        this.db = db;\r\n        auth.user$\r\n            .pipe(switchMap((user) => {\r\n            return this.db.object('/user/' + (user === null || user === void 0 ? void 0 : user.uid)).valueChanges();\r\n        })) //never use switchMap with async pipe or you will run in infinite loop\r\n            .subscribe((x) => {\r\n            this.appuser = x;\r\n        });\r\n    }\r\n    ngOnInit() { }\r\n    logout() {\r\n        this.auth.logout();\r\n    }\r\n}\r\nNavbarComponent.ɵfac = function NavbarComponent_Factory(t) { return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AngularFireDatabase)); };\r\nNavbarComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: NavbarComponent, selectors: [[\"navbar\"]], decls: 13, vars: 2, consts: [[1, \"navbar\", \"navbar-expand-md\", \"navbar-light\", \"bg-light\", \"fixed-top\"], [\"routerLink\", \"/\", 1, \"navbar-brand\"], [\"type\", \"button\", \"data-toggle\", \"collapse\", \"data-target\", \"#navbarsExampleDefault\", \"aria-controls\", \"navbarsExampleDefault\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarsExampleDefault\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"mr-auto\"], [1, \"nav-item\"], [\"routerLink\", \"/shopping-cart\", 1, \"nav-link\"], [\"anonymousUser\", \"\"], [\"ngbDropdown\", \"\", \"class\", \"nav-item dropdown\", 4, \"ngIf\", \"ngIfElse\"], [\"routerLink\", \"/login\", 1, \"nav-link\"], [\"ngbDropdown\", \"\", 1, \"nav-item\", \"dropdown\"], [\"ngbDropdownToggle\", \"\", \"id\", \"dropdown01\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [\"ngbDropdownMenu\", \"\", \"aria-labelledby\", \"dropdown01\", 1, \"dropdown-menu\"], [\"routerLink\", \"/my/orders\", 1, \"dropdown-item\"], [4, \"ngIf\"], [1, \"dropdown-item\", 3, \"click\"], [\"routerLink\", \"/admin/orders\", 1, \"dropdown-item\"], [\"routerLink\", \"/admin/products\", 1, \"dropdown-item\"]], template: function NavbarComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"nav\", 0);\r\n        i0.ɵɵelementStart(1, \"a\", 1);\r\n        i0.ɵɵtext(2, \"WebShop\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"button\", 2);\r\n        i0.ɵɵelement(4, \"span\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"div\", 4);\r\n        i0.ɵɵelementStart(6, \"ul\", 5);\r\n        i0.ɵɵelementStart(7, \"li\", 6);\r\n        i0.ɵɵelementStart(8, \"a\", 7);\r\n        i0.ɵɵtext(9, \"Shopping Cart\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(10, NavbarComponent_ng_template_10_Template, 3, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\r\n        i0.ɵɵtemplate(12, NavbarComponent_li_12_Template, 9, 2, \"li\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r0 = i0.ɵɵreference(11);\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.appuser)(\"ngIfElse\", _r0);\r\n    } }, directives: [i3.NgbNavbar, i4.RouterLinkWithHref, i5.NgIf, i3.NgbDropdown, i3.NgbDropdownToggle, i3.NgbDropdownMenu], styles: [\".dropdown-toggle[_ngcontent-%COMP%] {\\r\\n  cursor: pointer;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdmJhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBZTtBQUNqQiIsImZpbGUiOiJuYXZiYXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kcm9wZG93bi10b2dnbGUge1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4iXX0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}